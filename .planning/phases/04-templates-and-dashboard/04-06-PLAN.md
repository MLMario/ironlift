---
phase: 04-templates-and-dashboard
plan: 06
type: execute
wave: 1
depends_on: [04-04]
files_modified:
  - src/components/DashboardHeader.tsx
  - src/components/SetRow.tsx
  - src/components/RestTimerInline.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "IronLift brand text uses split-color styling — 'Iron' in white, 'Lift' in accent blue"
    - "Weight input allows decimal values up to 1 decimal point (e.g., 72.5)"
    - "Rest timer in template editor shows only +/-10s buttons and direct value input (no progress bar)"
  artifacts:
    - path: "src/components/DashboardHeader.tsx"
      provides: "Split-color brand logo matching web app pattern"
    - path: "src/components/SetRow.tsx"
      provides: "Weight input accepting decimal values"
    - path: "src/components/RestTimerInline.tsx"
      provides: "Rest timer without progress bar for template editor context"
  key_links:
    - from: "src/components/DashboardHeader.tsx"
      to: "theme.colors.accent"
      via: "brandLift text style uses accent color"
      pattern: "colors\\.accent"
    - from: "src/components/SetRow.tsx"
      to: "keyboardType decimal-pad"
      via: "weight TextInput uses decimal-pad keyboard"
      pattern: "decimal-pad"
---

<objective>
Fix the brand styling, weight decimal input, and rest timer progress bar issues from UAT gaps 1, 2, and 3.

Purpose: Three independent component fixes that bring the dashboard header, set configuration, and rest timer inline closer to the web app reference and expected behavior.

Output: DashboardHeader with split-color brand text, SetRow with decimal weight input, RestTimerInline without progress bar.
</objective>

<execution_context>
@C:\Users\MarioPC\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\MarioPC\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-templates-and-dashboard/04-02-SUMMARY.md
@.planning/phases/04-templates-and-dashboard/04-03-SUMMARY.md

Web app brand reference (DashboardSurface.tsx line 452-455):
```html
<span class="brand-logo">
  <span class="iron">Iron</span>
  <span class="factor">Factor</span>
</span>
```
CSS: `.brand-logo .iron { color: var(--color-text-primary); }` and `.brand-logo .factor { color: var(--color-accent); }`
For IronLift: "Iron" in textPrimary (white), "Lift" in accent (#4f9eff blue).

Dashboard header in web: `.dashboard-header .brand-logo { font-size: 1.25rem; font-weight: 600; }`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Apply split-color brand styling to DashboardHeader</name>
  <files>src/components/DashboardHeader.tsx</files>
  <action>
**Gap 1 - Brand split-color styling:**

In the web app, the brand logo uses split coloring: first part in text-primary (white), second part in accent (blue). For IronLift, this means "Iron" in white (#ffffff / textPrimary) and "Lift" in accent blue (#4f9eff).

Replace the single `<Text style={styles.brand}>IronLift</Text>` with two adjacent Text elements inside a container:

```tsx
<View style={styles.brandContainer}>
  <Text style={styles.brandIron}>Iron</Text>
  <Text style={styles.brandLift}>Lift</Text>
</View>
```

The brandContainer should be `flexDirection: 'row'` with `alignItems: 'baseline'` to keep the text aligned.

Styles:
- brandIron: `fontSize: sizes['2xl'], fontWeight: weights.semibold, color: colors.textPrimary` — matches web's `.brand-logo .iron` (white text)
- brandLift: `fontSize: sizes['2xl'], fontWeight: weights.semibold, color: colors.accent` — matches web's `.brand-logo .factor` (accent blue)

The font-size uses 2xl (24px) which maps to the web's 1.25rem (20px) but scales slightly larger for the native header. The web reference uses font-weight: 600 which maps to semibold.

Remove the old `brand` style from getStyles and replace with the three new styles (brandContainer, brandIron, brandLift).
  </action>
  <verify>Read src/components/DashboardHeader.tsx and confirm: "Iron" text with textPrimary color and "Lift" text with accent color exist as separate Text elements.</verify>
  <done>Dashboard header shows "Iron" in white and "Lift" in accent blue, matching the web app's split-color brand pattern.</done>
</task>

<task type="auto">
  <name>Task 2: Enable decimal weight input and remove rest timer progress bar</name>
  <files>src/components/SetRow.tsx, src/components/RestTimerInline.tsx</files>
  <action>
**Gap 2 - Weight decimal input (SetRow.tsx):**

The weight input currently uses `keyboardType="numeric"` which on iOS shows a number pad without a decimal point. Change it to `keyboardType="decimal-pad"` which shows the iOS decimal number pad with a period key.

The handleWeightChange function already uses `parseFloat()` which handles decimals correctly. No logic change needed — only the keyboardType prop needs updating.

To enforce max 1 decimal place, update the display value from `String(weight)` to a formatter that rounds to 1 decimal place and strips trailing zeros:
```typescript
// Format weight for display: round to 1 decimal, strip trailing .0
function formatWeight(value: number): string {
  const rounded = Math.round(value * 10) / 10;
  return String(rounded);
}
```
Use `formatWeight(weight)` as the TextInput value instead of `String(weight)`.

Also in handleWeightChange, round to 1 decimal:
```typescript
const handleWeightChange = (text: string) => {
  const parsed = parseFloat(text);
  if (isNaN(parsed)) {
    onWeightChange(0);
  } else {
    // Round to 1 decimal place
    onWeightChange(Math.round(parsed * 10) / 10);
  }
};
```

**Gap 3 - Remove progress bar from RestTimerInline (RestTimerInline.tsx):**

The progress bar (barContainer and barFill views) should only be shown during an active workout (Phase 5), not in the template editor. For now, remove the progress bar entirely from RestTimerInline.

Remove the `MAX_REST_SECONDS` constant.
Remove the `fillRatio` calculation.
Remove the barContainer View and barFill View from the JSX.
Remove the barContainer and barFill styles from getStyles.

The resulting layout is: [-10s button] [time input] [+10s button] — all in a row with gap between them. The time input can have `flex: 1` to take remaining space, or keep its fixed width of 60. Keep the fixed width of 60 to maintain a compact layout matching the web app's rest timer inline pattern.

The resulting component order in the row should be:
1. -10s button (Pressable)
2. Time input (TextInput, width: 60, centered)
3. +10s button (Pressable)

This matches the web app's template editor rest timer which shows only the adjustment buttons and direct input — the progress bar is a workout-only feature.
  </action>
  <verify>Read src/components/SetRow.tsx and confirm: keyboardType is "decimal-pad", formatWeight function exists, handleWeightChange rounds to 1 decimal. Read src/components/RestTimerInline.tsx and confirm: no barContainer, no barFill, no MAX_REST_SECONDS, no fillRatio — only -10s button, time input, +10s button.</verify>
  <done>Weight input accepts decimals via decimal-pad keyboard with 1-decimal-place rounding, and rest timer inline shows only +/-10s buttons and time input without a progress bar.</done>
</task>

</tasks>

<verification>
1. Read src/components/DashboardHeader.tsx — must have "Iron" with textPrimary color and "Lift" with accent color
2. Read src/components/SetRow.tsx — keyboardType must be "decimal-pad", weight formatting rounds to 1 decimal
3. Read src/components/RestTimerInline.tsx — no progress bar elements (barContainer, barFill), only buttons and input
4. Run `npx tsc --noEmit` to confirm no type errors
</verification>

<success_criteria>
- Brand text shows "Iron" in white and "Lift" in blue
- Weight input shows decimal keyboard on iOS and rounds to 1 decimal place
- Rest timer in template editor has no progress bar — only -10s, time input, +10s
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-templates-and-dashboard/04-06-SUMMARY.md`
</output>
