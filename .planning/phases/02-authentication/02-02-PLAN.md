---
phase: 02-authentication
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/TextInputField.tsx
  - src/components/ErrorBox.tsx
  - src/components/SuccessBox.tsx
  - src/components/SubmitButton.tsx
  - src/components/AuthCard.tsx
  - src/components/AuthTabs.tsx
autonomous: true

must_haves:
  truths:
    - "TextInputField renders a labeled input with optional password visibility toggle and hint text"
    - "ErrorBox displays error messages in a red-themed container matching web app .error-message"
    - "SuccessBox displays success messages in a green-themed container"
    - "SubmitButton shows ActivityIndicator spinner when loading, disables touch when loading"
    - "AuthCard wraps content in a rounded card with border and shadow matching web app .auth-card"
    - "AuthTabs renders Login/Register toggle with accent underline on active tab"
  artifacts:
    - path: "src/components/TextInputField.tsx"
      provides: "Reusable form input with label, password toggle, hint"
      exports: ["TextInputField"]
      min_lines: 40
    - path: "src/components/ErrorBox.tsx"
      provides: "Red error message box"
      exports: ["ErrorBox"]
    - path: "src/components/SuccessBox.tsx"
      provides: "Green success message box"
      exports: ["SuccessBox"]
    - path: "src/components/SubmitButton.tsx"
      provides: "Button with loading spinner"
      exports: ["SubmitButton"]
    - path: "src/components/AuthCard.tsx"
      provides: "Card container for auth forms"
      exports: ["AuthCard"]
    - path: "src/components/AuthTabs.tsx"
      provides: "Login/Register tab toggle"
      exports: ["AuthTabs"]
  key_links:
    - from: "src/components/TextInputField.tsx"
      to: "@/theme"
      via: "useTheme() for colors, spacing, radii"
      pattern: "useTheme"
    - from: "src/components/SubmitButton.tsx"
      to: "react-native"
      via: "ActivityIndicator for loading state"
      pattern: "ActivityIndicator"
---

<objective>
Build all reusable auth UI components: TextInputField (with password toggle), ErrorBox, SuccessBox, SubmitButton, AuthCard, and AuthTabs.

Purpose: These components are shared across sign-in.tsx (login/register/reset forms) and reset-password.tsx (set new password form). Building them first enables clean composition in the screen plans.

Output: Six standalone, themed components in src/components/ ready for auth screen assembly.
</objective>

<execution_context>
@C:\Users\MarioPC\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\MarioPC\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-authentication/02-CONTEXT.md
@.planning/phases/02-authentication/02-RESEARCH.md

@src/theme/tokens.ts
@src/theme/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TextInputField, ErrorBox, SuccessBox, SubmitButton</name>
  <files>src/components/TextInputField.tsx, src/components/ErrorBox.tsx, src/components/SuccessBox.tsx, src/components/SubmitButton.tsx</files>
  <action>
**Reference:** Web app auth UI is the pixel reference. Match colors, spacing, typography. Use theme tokens exclusively -- never hardcode color values.

**1. TextInputField.tsx** -- Reusable form input with label, error state, and password toggle.
- Props: `label: string`, `value: string`, `onChangeText: (text: string) => void`, `placeholder?: string`, `secureTextEntry?: boolean`, `keyboardType?: 'default' | 'email-address'`, `autoCapitalize?: 'none' | 'sentences'`, `hint?: string`, `autoComplete?: string`
- Label: `textPrimary`, `sizes.sm`, `weights.medium`
- Input: `bgPrimary` background, `border` border (1px), `radii.md` corners, `textPrimary` color, `sizes.base` font. Input focus glow: when focused, change borderColor to `accent` (use state to track focus via onFocus/onBlur)
- Password toggle: If `secureTextEntry` is true, show eye/eye-off icon from `@expo/vector-icons/Ionicons` positioned absolute right inside the input. Icon: `eye-off` when password hidden (secure), `eye` when visible. Color: `textMuted`. Add paddingRight to input when password toggle is present.
- Hint: Below input in `textMuted` color, `sizes.xs` font. Used for "Minimum 6 characters" on password fields.
- Use `StyleSheet.create()` for all styles. Dynamic values only (like borderColor on focus) can use inline style.
- Min tap target: eye/eye-off toggle Pressable must be at least 44px tap target.

**2. ErrorBox.tsx** -- Red error message box matching web app's `.error-message`.
- Props: `message: string | null` (renders nothing if null/empty)
- Container: `danger` color text, `danger` border (1px), background `danger` at ~15% opacity (use rgba or a dedicated token -- since we only have the danger hex, use a View with `danger` border and a semi-transparent background approximation: `'rgba(248, 113, 113, 0.1)'`). Rounded corners `radii.md`, padding `spacing.sm` horizontal + `spacing.sm` vertical.
- Text: `danger` color, `sizes.sm` font.
- The error box should be visible only when message is truthy.

**3. SuccessBox.tsx** -- Green success message box.
- Same structure as ErrorBox but using `success` color tokens.
- Props: `message: string | null`
- Container: `success` border, `'rgba(74, 222, 128, 0.1)'` background approximation, `radii.md`, `spacing.sm` padding.
- Text: `success` color, `sizes.sm` font.

**4. SubmitButton.tsx** -- Button with ActivityIndicator loading state.
- Props: `title: string`, `onPress: () => void`, `loading?: boolean`, `variant?: 'primary' | 'danger'` (default 'primary')
- Primary variant: `accent` background, `accentHover` on press
- Danger variant: `danger` background, `dangerHover` on press (for "Request New Link" button)
- Loading state: Replace text with `ActivityIndicator` (white color, small size). Button remains same size. `disabled={loading}` to prevent double-tap.
- Not loading: Show title text in `textPrimary`, `sizes.base`, `weights.medium`
- Min height: `layout.minTapTarget` (44px). Full width via `alignSelf: 'stretch'`.
- Use Pressable with `({ pressed }) => [...]` style pattern for pressed state.
  </action>
  <verify>
Run `npx tsc --noEmit` from project root. All four component files compile without type errors.
  </verify>
  <done>
Four reusable components created: TextInputField with password toggle and focus glow, ErrorBox with red theme, SuccessBox with green theme, SubmitButton with ActivityIndicator loading state. All use theme tokens via useTheme().
  </done>
</task>

<task type="auto">
  <name>Task 2: Create AuthCard and AuthTabs</name>
  <files>src/components/AuthCard.tsx, src/components/AuthTabs.tsx</files>
  <action>
**Reference:** Web app's `.auth-card` and `.auth-tabs` styles. Match visual appearance.

**1. AuthCard.tsx** -- Card container wrapping auth form content.
- Props: `children: React.ReactNode`
- Container: `bgSurface` background, `border` border (1px), `radii.lg` corners (12px), `shadows.md` shadow
- Padding: `spacing.lg` (24px) all sides. Adapt for mobile -- the card should not have a fixed width but should respect `layout.containerMaxWidth` (480px) as maxWidth and use horizontal margin for centering.
- The card wraps its children, no internal layout assumptions.

**2. AuthTabs.tsx** -- Login/Register tab toggle with accent underline.
- Props: `activeTab: 'login' | 'register'`, `onTabChange: (tab: 'login' | 'register') => void`
- Layout: Row with two equal-width tab buttons
- Active tab: `textPrimary` color text, `accent` colored bottom border (2-3px, matching web's `.auth-tab.active` underline)
- Inactive tab: `textSecondary` color text, transparent bottom border
- Tab text: `sizes.base` font, `weights.medium`, centered
- Each tab button: min height `layout.minTapTarget` (44px)
- Bottom border of the tab row: `borderDim` color (subtle separator below tabs before form content)
- Tabs render "Login" and "Register" labels.
  </action>
  <verify>
Run `npx tsc --noEmit` from project root. Both files compile without type errors.
  </verify>
  <done>
AuthCard renders a themed card container with surface background, border, rounded corners, and shadow. AuthTabs renders a Login/Register toggle with accent underline on the active tab. Both use theme tokens exclusively.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. All six components export their named component
3. All components use `useTheme()` for styling -- no hardcoded color values
4. TextInputField has password visibility toggle with Ionicons eye/eye-off
5. SubmitButton shows ActivityIndicator when loading=true
6. AuthTabs has accent underline on active tab
</verification>

<success_criteria>
- Six reusable components created in src/components/
- All themed via useTheme() with semantic token names
- TextInputField handles password toggle, focus glow, and hint text
- SubmitButton handles loading state with spinner
- AuthCard matches web app's .auth-card styling
- AuthTabs matches web app's tab underline pattern
- Zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-authentication/02-02-SUMMARY.md`
</output>
